è·å ´ã® Slack ã® #ruby çª“ã§ Ruby Weekly ãƒ¡ãƒ«ãƒã‚¬ãŒæ¯é€±é…ä¿¡ã•ã‚Œã¾ã™ã€‚ãã®ä¸­ã‹ã‚‰é¢ç™½ãã†ãªã‚‚ã®ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ã€æ—¥æœ¬èªã§ç°¡å˜ãªã‚µãƒãƒªãƒ¼ã‚’æ›¸ãã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ãã®ã‚µãƒãƒªãƒ¼ã‚’ã“ã“ã§ã¾ã¨ã¾ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚ãã ã‘ãŸæ—¥æœ¬èªã§å¤±ç¤¼ã„ãŸã—ã¾ã™ã€‚

[http://rubyweekly.com/issues/363:embed:cite]

## Highlights

> [An Introduction to Concurrency Models in Ruby](https://engineering.universe.com/introduction-to-concurrency-models-with-ruby-part-i-550d0dbb970)

Ruby ä¸¦è¡Œå‡¦ç†ã¾ã¨ã‚

- ãƒ—ãƒ­ã‚»ã‚¹ã€‚å¤šæ•°ã‚³ã‚¢ä½¿ãˆã‚‹ãŒã€fork ãŒé‡ã„ã€‚
- ã‚¹ãƒ¬ãƒƒãƒ‰ã€‚ãƒ—ãƒ­ã‚»ã‚¹ã‚ˆã‚Šè»½é‡ã ãŒã€ç®¡ç†ãŒè¤‡é›‘ã€‚ç«¶åˆçŠ¶æ…‹é˜²æ­¢ã¨ã‹ã®ã€‚
- [EventMachine](https://github.com/eventmachine/eventmachine) gemã€‚ã‚¹ãƒ¬ãƒƒãƒ‰ç®¡ç†ã—ã¦ãã‚Œã‚‹ãŒã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒè¤‡é›‘ã€‚
- Fiberã€‚EventMachine ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’éš ã—ã¦ãã‚Œã‚‹ã€‚

| ä¸¦è¡Œå‡¦ç†æ–¹å¼ |                       ã‚µãƒ¼ãƒä¾‹                       |          ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–ä¾‹         |
|--------------|------------------------------------------------------|-------------------------------------------|
| ãƒ—ãƒ­ã‚»ã‚¹     | Unicorn                                              | Resque                                    |
| ã‚¹ãƒ¬ãƒƒãƒ‰     | Puma                                                 | Sidekiq                                   |
| EventMachine | [Goliath](https://github.com/postrank-labs/goliath/) | [AMQP](https://github.com/ruby-amqp/amqp) |

> [Five Ruby Methods You Should Be Using](https://www.engineyard.com/blog/five-ruby-methods-you-should-be-using)

ã“ã® 5 ãƒ¡ã‚½ãƒƒãƒ‰æ´»ã‹ãã†ãœï¼

1. `Object#tap`
2. `Array#bsearch`
3. `Enumerable#flat_map`
4. ãƒ–ãƒ­ãƒƒã‚¯ä»˜ã `Array.new`
5. `<=>`

> [Some Confusing Features in Ruby](https://hqc.io/posts/six-confusing-features-in-ruby)

Ruby ã®ç´›ã‚‰ã‚ã—ã„ 6 æ©Ÿèƒ½

1. `[]` ãƒ¡ã‚½ãƒƒãƒ‰ã€‚Array ã«ã‚‚ Hash ã«ã‚‚ String ã«ã‚‚ Procãƒ»lambda ã«ã‚‚ä»˜ã„ã¦ã¦è«¸æ‚ªã®æ ¹æºã ã¨ç­†è€…ãŒä¸»å¼µã€‚
2. `%` æ¼”ç®—å­ã€‚å‰°ä½™æ¼”ç®—å­ã«ã‚‚ãªã‚Œã°ã€æ–‡å­—åˆ—ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¼”ç®—å­ã«ã‚‚ãªã‚‹ã€‚
3. `Integer#zero?` ãƒ¡ã‚½ãƒƒãƒ‰ã€‚`== 0` ã®ã»ã†ãŒç„¡é›£ã€‚
4. `$æ•°å­—` ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã€‚
5. `Time.parse`ã€‚ä¸æ­£ãªæ–‡å­—åˆ—æ¸¡ã—ã¦ã‚‚ã€ä¸æ­£ãªéƒ¨åˆ†ã ã‘ `Time.now` ã§åŸ‹ã‚è¾¼ã‚“ã˜ã‚ƒã†ã¨ã„ã†æ™‚é™çˆ†å¼¾ã€‚
6. `Delegator`

> [Spree 3.3 Released: A Rails-Based E-Commerce System](http://guides.spreecommerce.org/release_notes/spree_3_3_0.html)

OSS ã® EC ã‚µã‚¤ãƒˆç”¨ Rails ã‚¢ãƒ—ãƒª Spree 3.3 ãƒªãƒªãƒ¼ã‚¹

- Rails 5.1 å¯¾å¿œ
- Ruby 2.4 å¯¾å¿œ
- [Segment](https://segment.com/) é€£æº
- ãªã©

> [Using ActionCable and RethinkDB to Build a Reactive WebSocket App](https://medium.com/rubyinside/using-rails-5-actioncable-and-rethinkdb-to-build-a-reactive-websocket-app-7f77382cfb5)

ActionCable + RethinkDB ã§ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå®Ÿè£…ã€‚
RethinkDB ã® ORM ã¨ã—ã¦ [NoBrainer](http://nobrainer.io/) gem æ¡ç”¨ã€‚

- å„ãƒ¦ãƒ¼ã‚¶ã®é¸æŠä¸­ã‚»ãƒ«ã®æ ã«é•ã†è‰²ã‚’ä»˜ã‘ã¦ Publish
- ã‚»ãƒ«ã®ä¸­èº«ã‚’æ°¸ç¶šåŒ–ã—ã¦ Publish
- ç·¨é›†ä¸­ã‚»ãƒ«ã«ãƒ­ãƒƒã‚¯ã‚’ã‹ã‘ã¦ Publish

> [Five Quick Active Record Query Tricks](https://medium.com/@apneadiving/active-records-queries-tricks-2546181a98dd)

ActiveRecord ãƒˆãƒªãƒƒã‚¯ 5 ç‚¹

1. `join` ã®æ¡ä»¶ã¯ `scope` ã‚’ `merge` ã—ã‚ˆã†
2. `join` ã¯æ™®æ®µ `INNER JOIN` ã«ãªã‚‹ã‚“ã ãŒã€ãƒã‚¹ãƒˆã™ã‚‹ã¨ `LEFT OUTER JOIN` ã«ãªã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã®ã§è¦æ³¨æ„
3. `EXISTS`ã€`NOT EXISTS` ã¯ä¾¿åˆ©ãƒ¡ã‚½ãƒƒãƒ‰ã§
4. ã‚µãƒ–ã‚¯ã‚¨ãƒªã¯ `pluck` æ‚ªç”¨ã›ãšã« ActiveRecord ã«ä»»ã›ã‚ˆã†
5. `to_sql`ã€`explain` æ´»ã‹ãã†

## News

> [Passenger 5.1.8 Released: Nginx 1.12.1, Webpacker, and Fixes](https://blog.phusion.nl/2017/08/23/passenger-5-1-8/)

Passenger 5.1.8 ãƒªãƒªãƒ¼ã‚¹

- apt-get ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚„ã£ã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆ1.10.3 ä»¥é™ã¯ã§ãã¦ãªã‹ã£ãŸï¼‰
- webpacker å¯¾å¿œ
- å†—é•·ãªãƒ­ã‚°ãŒè¦‹ã‚„ã™ã

## Tutorial

> [Factories or Fixtures? Give Me Both](https://evilmartians.com/chronicles/factories-or-fixtures)

Factory ã¨ Fixture ã®åŠ›ã‚’åˆã‚ã›ã¦å¤–éƒ¨ API ã‚’æ“¬ä¼¼åŒ–ã€‚eBay ã®å·¨å¤§ XML ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ä¾‹ã«æŒ™ã’ãŸã€‚XML ã® Fixture ã‚’ Factory ã«èª­ã¿è¾¼ã¿ã€Hash ã«å¤‰æ›ã€‚

> [Managing Threads with Queue and SizedQueue](https://blog.redpanthers.co/managing-threads-queue-sizedqueue/)

Ruby ã‚³ã‚¢ã®ã‚¹ãƒ¬ãƒƒãƒ‰é–“ãƒ‡ãƒ¼ã‚¿é€šä¿¡ã‚¯ãƒ©ã‚¹ã¾ã¨ã‚ã€‚`Queue#push` ã§ãƒ‡ãƒ¼ã‚¿ã‚’ç©ã‚€ã¨ã€åˆ¥ã‚¹ãƒ¬ãƒƒãƒ‰ã® `Queue#pop` ã§ãã®ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ãã‚‹ã€‚ä¸Šé™ä»˜ãã‚­ãƒ¥ãƒ¼ã¯ `SizedQueue` ã§ã€‚

> [Adding Token Based Auth to a Rails API with Devise Token Auth](https://www.valentinog.com/blog/devise-token-auth-rails-api/)

[Devise Token Auth](https://github.com/lynndylanhurley/devise_token_auth) gem ã§ Rails API ã®ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼ã‚’å®Ÿè£…ã™ã‚‹æ‰‹é †ã€‚

> [A Review of the Hanami Web Framework](https://www.nopio.com/blog/hanami-ruby-web-framework-review/)

Hanami ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€‚

ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

- Generator å®Œå‚™
- Migration å®Œå‚™
- [Shotgun](https://github.com/rtomayko/shotgun) gem ã§ code reloading å®Œå‚™
- ãƒ¢ãƒ‡ãƒ«å±¤ãŒ Entity ã¨ Repository ã«åˆ†ã‹ã‚Œã¦ã‚‹
- ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©å±¤ã¯ 1 ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ = 1 ã‚¯ãƒ©ã‚¹
- ãƒ“ãƒ¥ãƒ¼å±¤ã¯ Template ã¨ View ã«åˆ†ã‹ã‚Œã¦ã‚‹

æ„Ÿæƒ³

- ğŸ˜„ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ§‹é€ ãŒæ•´ç†æ•´é “
- ğŸ˜¢ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ä¸è¶³
- ğŸ˜¢ `db:seeds` ãŒãªã„
- ğŸ˜¢ `belongs_to` `has_one` ãŒãªã„ï¼ˆ[å…ˆé€±ç™ºè¡¨ã—ãŸ](http://rastam.hatenablog.com/entry/ruby-weekly-362#hanami-1-1-0-beta-1)ã‚ˆã†ã« v1.1.0Î²1 ã§ã¯ãƒªãƒªãƒ¼ã‚¹æ¸ˆã¿ï¼‰

> [How to Make AJAX Calls in Rails 5.1](https://learnetto.com/blog/how-to-make-ajax-calls-in-rails-5-1)

Rails 5.1 ã§ AJAX ã‚’ä½¿ã†æ–¹æ³• 3 é€šã‚Šã¨ãã‚Œãã‚Œã®å°å…¥æ‰‹é †ã€‚

1. rails-ujsï¼ˆjQuery ãªã—ï¼‰
2. jQuery
   - jquery-rails gem
   - npm ã® jquery ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
3. axios

> [The === (Case Equality) Operator in Ruby](http://blog.arkency.com/the-equals-equals-equals-case-equality-operator-in-ruby/)

`===` ã„ã‚ã„ã‚

- ã‚¯ãƒ©ã‚¹ãƒ»ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¢«æ¼”ç®—å­ã«ã—ãŸå ´åˆã¯ `kind_of?`
- æ­£è¦è¡¨ç¾ã‚’è¢«æ¼”ç®—å­ã«ã—ãŸå ´åˆã¯ `=~`
- `Range` ã‚’è¢«æ¼”ç®—å­ã«ã—ãŸå ´åˆã¯ãã®ç¯„å›²å†…
- `Proc` ã‚’è¢«æ¼”ç®—å­ã«ã—ãŸå ´åˆã¯ `call`
- ãã‚Œä»¥å¤–ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¢«æ¼”ç®—å­ã«ã—ãŸå ´åˆã¯ `==`

## Tools

> [Ruby Tests Profiling Toolbox: Tools to Analyze Test Suite Performance](https://github.com/palkan/test-prof)

[å…ˆé€±](http://rastam.hatenablog.com/entry/ruby-weekly-359#test-prof)ã«ã‚‚ç´¹ä»‹ã•ã‚ŒãŸ TestProf ãƒ¡ãƒˆãƒªãƒƒã‚¯ã‚¹è¨ˆæ¸¬ãƒ„ãƒ¼ãƒ«ç¾¤ã€‚

## Code

> [sinatra-graphql: A Sinatra and GraphQL Starter Kit](https://github.com/lucas-aragno/sinatra-graphql)

cloneã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºç”¨ã® Sinatra + GraphQL éª¨çµ„ã¿ã‚¢ãƒ—ãƒªã€‚Trailblazerã€Apolloã€React ã‚‚è¾¼ã¿ã€‚

> [tlsh: Trend Micro Locality Sensitive Hash Library](https://github.com/adamliesko/tlsh)

ãƒ•ã‚¡ã‚¸ãƒ¼ãƒãƒƒãƒãƒ³ã‚°ç”¨ gemã€‚é¡ä¼¼æ¯”è¼ƒã§ä½¿ãˆã‚‹ãƒãƒƒã‚·ãƒ¥å€¤ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã€‚

> [Marginalia: Attach Comments to ActiveRecord's SQL Queries](https://github.com/basecamp/marginalia)

ActiveRecord ãƒ­ã‚°ã® SQL ã«ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãªã©ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ·»ãˆã‚‹ gemã€‚Basecamp ä½œå“ã€‚

> [Zammad: A Web-Based Open Source Customer Support System](https://github.com/zammad/zammad)

OSS ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆç”¨ Rails ã‚¢ãƒ—ãƒªã€‚

> [Geocoder: A Complete Ruby Geocoding Solution](https://github.com/alexreisner/geocoder)

ã‚¸ã‚ªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”¨ gemã€‚ä½æ‰€ã§çµŒåº¦ãƒ»ç·¯åº¦ã‚’ç®—å‡ºã—ã€ãã®é€†ã®ç…§åˆã‚‚å¯èƒ½ã€‚

